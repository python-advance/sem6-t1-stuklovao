 # Matplotlib
                                                        
Библиотека **matplotlib** - это бибилиотека двумерной графики для языка программирования python с помощью которой можно создавать высококачественные рисунки различных форматов. Matplotlib представляет собой модуль-пакет для python.                                       

Matplotlib является гибким, легко конфигурируемым пакетом, который вместе с NumPy, SciPy и IPython предоставляет возможности, подобные MATLAB. В настоящее время пакет работает с несколькими графическими библиотеками, включая wxWindows и PyGTK.

Пакет поддерживает многие виды графиков и диаграмм:

* Графики (line plot)
* Диаграммы разброса (scatter plot)
* Столбчатые диаграммы (bar chart) и гистограммы (histogram)
* Круговые диаграммы (pie chart)
* Ствол-лист диаграммы (stem plot)
* Контурные графики (contour plot)
* Поля градиентов (quiver)
* Спектральные диаграммы (spectrogram)

После установки библиотеки matplotlib вызывается в консоли или в скрипте как модуль:

```
import matplotlib as mpl
#Вывод на экран текущей версии библиотеки matplotlib
```

Matplotlib cостоит из множества модулей. Модули наполнены различными классами и функциями, которые иерархически связаны между собой.

Так как matplotlib организована иерархически, а наиболее простыми для понимания человеком являются самые высокоуровневые функции, то знакомство с matplotlib начинают с самого высокоуровневого интерфейса matplotlib.pyplot. Так, чтобы нарисовать гистограмму с помощью этого модуля, нужно вызывать всего одну команду: ```matplotlib.pyplot.hist(arr).```

Пользователю не нужно думать как именно библиотека нарисовала эту диаграмму. Если бы мы рисовали гистрограмму самостоятельно , то заметили бы, что она состоит из повоторяющихся по форме фигур - прямоугольников. А чтобы нарисовать прямоугольник, нужно знать хотя бы координату одного угла и ширину/длину. Рисовали же бы мы прямоугольник линиями, соединяя угловые точки прямоугольника.

Этот пример отображает иерархичность рисунков, когда итоговая диаграмма (высокий уровень) состоит из простых геометрических фигур (более низкий, средний уровень), созданных несколькими универсальными методами рисования (низкий уровень). Если бы каждый рисунок нужно было бы создавать вот так, с нуля, это было бы очень долго и утомительно.

Интерфейс matplotlib.pyplot является набором команд и функций, которые делают синтаксис графических matploltib команд похожим на команды, используемые в среде MATLAB(с). Изначально matplotlib планировался как свободная альтернатива MATLAB(с), где в одной среде имелись бы средства как для рисования, так и для численного анализа. Именно так в Matplotlib появился pylab, который объединяет модули pyplot и numpy в одно пространство имён.

## Иерархическая структура рисунка в matplotlib
Главной единицей (объектом самого высокого уровня) при работе с matplotlib является рисунок (Figure). Любой рисунок в matplotlib имеет вложенную структуру и чем-то напоминает матрёшку. Пользовательская работа подразумевает операции с разными уровнями этой матрёшки:

``` Figure(Рисунок) -> Axes(Область рисования) -> Axis(Координатная ось) ```

* Рисунок (Figure)
Рисунок является объектом самого верхнего уровня, на котором располагаются одна или несколько областей рисования (Axes), элементы рисунка Artisits (заголовки, легенда и т.д.) и основа-холст (Canvas). На рисунке может быть несколько областей рисования Axes, но данная область рисования Axes может принадлежать только одному рисунку Figure.

* Область рисования (Axes)
Область рисования является объектом среднего уровня, который является, наверное, главным объектом работы с графикой matplotlib в объектно-ориентированом стиле. Это то, что ассоциируется со словом "plot", это часть изображения с пространством данных. Каждая область рисования Axes содержит две (или три в случае трёхмерных данных) координатных оси (Axis объектов), которые упорядочивают отображение данных.

* Координатная ось (Axis)
Координатная ось являются объектом среднего уровня, которые определяют область изменения данных, на них наносятся деления ticks и подписи к делениям ticklabels. Расположение делений определяется объектом Locator, а подписи делений обрабатывает объект Formatter. Конфигурация координатных осей заключается в комбинировании различных свойств объектов Locator и Formatter.

* Элементы рисунка (Artists)
Элементы рисунка Artists являются как бы красной линией для всех иерархических уровней. Практически всё, что отображается на рисунке является элементом рисунка (Artist), даже объекты Figure, Axes и Axis. Элементы рисунка Artists включают в себя такие простые объекты как текст (Text), плоская линия (Line2D), фигура (Patch) и другие.


Когда происходит отображение рисунка (figure rendering), все элементы рисунка Artists наносятся на основу-холст (Canvas). Большая часть из них связывается с областью рисования Axes. Также элемент рисунка не может совместно использоваться несколькими областями Axes или быть перемещён с одной на другую.


## Графические команды
В Matplotlib заложены как простые графические команды, так и достаточно сложные. Доступ к ним через pyplot означает использование синтаксиса вида "plt.название_команды()".

Наиболее распространённые команды для создания научной графики в matplotlib это:

### I. Самые простые графические команды:

* plt.scatter() - маркер или точечное рисование;

* plt.plot() - ломаная линия;

* plt.text() - нанесение текста;

### II. Диаграммы:

* plt.bar(), plt.barh(), plt.barbs(), broken_barh() - столбчатая диаграмма;

* plt.hist(), plt.hist2d(), plt.hlines - гистограмма;

* plt.pie() - круговая диаграмма;

* plt.boxplot() - "ящик с усами" (boxwhisker);

* plt.errorbar() - оценка погрешности, "усы".

### III. Изображения в изолиниях:

* plt.contour() - изолинии;

* plt.contourf() - изолинии с послойной окраской;

### IV. Отображения:

* plt.pcolor(), plt.pcolormesh() - псевдоцветное изображение матрицы (2D массива);

* plt.imshow() - вставка графики (пиксели + сглаживание);

* plt.matshow() - отображение данных в виде квадратов.

### V. Заливка:

* plt.fill() - заливка многоугольника;

* plt.fill_between(), plt.fill_betweenx() - заливка между двумя линиями;

### VI. Векторные диаграммы:

* plt.streamplot() - линии тока;

* plt.quiver() - векторное поле.

Полный список команд, доступный для pyplot, можно узнать на официальном сайте matplotlib. В списке нет команд для рисования различных геометрических фигур (круги, многоугольники и т.д.). Это связано с тем, что в matplotlib они вызываются через matplotlib.patches, который за них отвечает. 
